<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simple Code Playground</title>
  <link rel="stylesheet" href="../Home/style.css">
  <link rel="stylesheet" href="playground.css">
</head>
<body>
     <header class="navbar">
      <div class="navbar-left">
        <span class="nav-logo">&#60;&#47;&#62;</span>
        <span class="nav-title">WebDev Learn</span>
        <span class="nav-subtitle">HTML &amp; CSS Mastery</span>
      </div>
      <nav class="navbar-center">
        <a href="../Home/index.html" class="nav-link">Home</a>
        <a href="../HTML/HTML.html" class="nav-link">HTML</a>
        <a href="../CSS/CSS.html" class="nav-link">CSS</a>
        <a href="./playground.html" class="nav-link active">Playground</a>
        <a href="../About/about.html" class="nav-link">About</a>
      </nav>
      <div class="navbar-right">
        <input
          type="text"
          class="nav-search"
          placeholder="Search HTML tags, CSS properties..."
        />
      </div>
    </header>
  <div class="playground-header">
    <h1>Code Playground</h1>
    <p>Experiment with HTML, CSS, and JavaScript in real-time.</p>
  </div>
  <div class="playground-container">
    <div class="editor">
      <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('html')">HTML</button>
        <button class="tab-btn" onclick="switchTab('css')">CSS</button>
        <button class="tab-btn" onclick="switchTab('js')">JS</button>
      </div>
      <textarea id="htmlCode" class="code-area" placeholder="Enter HTML code here..."></textarea>
      <textarea id="cssCode" class="code-area" style="display:none;" placeholder="Enter CSS code here..."></textarea>
      <textarea id="jsCode" class="code-area" style="display:none;" placeholder="Enter JavaScript code here..."></textarea>
      <div class="controls">
        <button onclick="runCode()">Run</button>
        <button onclick="copyCode()">Copy</button>
        <button onclick="clearCode()">Clear</button>
      </div>
    </div>
    <div class="preview">
      <div style="display:flex;align-items:center;justify-content:space-between;">
        <h3>Live Preview</h3>
        <div id="device-controls" style="display:flex;gap:0.5rem;">
          <button onclick="setPreviewWidth(375)" style="padding:0.3rem 0.8rem; margin-left: 4px;" class="btn">Mobile</button>
          <button onclick="setPreviewWidth(768)" style="padding:0.3rem 0.8rem;" class="btn">Tablet</button>
          <button onclick="setPreviewWidth(1200)" style="padding:0.3rem 0.8rem;" class="btn">Desktop</button>
          <input id="customWidth" type="number" min="200" max="2000" placeholder="Custom" style="width:70px;padding:0.3rem;" class="btn" oninput="setPreviewWidth(this.value)" />
          <span id="currentWidth" style="font-size:0.95em;color:#555;margin-left:0.5rem;">1200px</span>
        </div>
      </div>
      <div class="preview-frame-outer">
        <iframe id="previewFrame" class="preview-iframe" sandbox="allow-scripts allow-same-origin" scrolling="no" style="overflow:hidden;"></iframe>
      </div>
  <!-- .preview-iframe { width: 100%; max-width: 100%; height: 350px; border: 1px solid #e0e0e0; border-radius: 5px; background: #fff; display:block; margin:0 auto; } -->
    </div>
  </div>
  <script>
    // Tab switching
    function switchTab(tab) {
      document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
      document.querySelectorAll('.code-area').forEach(area => area.style.display = 'none');
      if (tab === 'html') {
        document.querySelectorAll('.tab-btn')[0].classList.add('active');
        document.getElementById('htmlCode').style.display = '';
      } else if (tab === 'css') {
        document.querySelectorAll('.tab-btn')[1].classList.add('active');
        document.getElementById('cssCode').style.display = '';
      } else {
        document.querySelectorAll('.tab-btn')[2].classList.add('active');
        document.getElementById('jsCode').style.display = '';
      }
    }

    // Run code in iframe
    function runCode() {
      const html = document.getElementById('htmlCode').value;
    const css = `<style>html{box-sizing:border-box;}body{margin:0;padding:0;box-sizing:border-box;max-width:100vw;overflow-x:hidden;}*{box-sizing:inherit;} ${document.getElementById('cssCode').value}</style>`;
      const js = `<script>${document.getElementById('jsCode').value}<\/script>`;
      const output = html + css + js;
      const iframe = document.getElementById('previewFrame');
      iframe.srcdoc = output;
    }

    // Copy current code
    function copyCode() {
      const tab = document.querySelector('.tab-btn.active').textContent.toLowerCase();
      const area = document.getElementById(tab + 'Code');
      area.select();
      document.execCommand('copy');
      alert('Copied!');
    }

    // Clear all code
    function clearCode() {
      document.getElementById('htmlCode').value = '';
      document.getElementById('cssCode').value = '';
      document.getElementById('jsCode').value = '';
      runCode();
    }

    // Auto-run on input
    ['htmlCode', 'cssCode', 'jsCode'].forEach(id => {
      document.getElementById(id).addEventListener('input', runCode);
    });

    // Device width controls
    function setPreviewWidth(w) {
      const iframe = document.getElementById('previewFrame');
      let width = parseInt(w);
      if (isNaN(width) || width < 200) width = 375;
      if (width > 2000) width = 2000;
      iframe.style.width = width + 'px';
      iframe.style.minWidth = width + 'px';
      iframe.style.maxWidth = width + 'px';
      iframe.style.overflow = 'hidden';
      document.getElementById('currentWidth').textContent = width + 'px';
      document.getElementById('customWidth').value = width;
    }

    // Set default width
    setPreviewWidth(1200);

    // Initial run
    runCode();
  </script>
</body>
</html>